(this["webpackJsonpclone-twitter"]=this["webpackJsonpclone-twitter"]||[]).push([[0],{51:function(e,t,c){},61:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},75:function(e,t,c){},76:function(e,t,c){},77:function(e,t,c){"use strict";c.r(t);var a=c(8),n=c(52),s=c.n(n),r=c(11),i=c(30),l=c(14),o=(c(61),c.p+"static/media/twitter.39708c25.png"),j=c(27),b=c(31),u=c(5),d=function(e){var t=e.signedInUser;return Object(u.jsx)("div",{className:"Navigation",children:Object(u.jsxs)("ul",{className:"Navigation-box",children:[Object(u.jsx)("li",{className:"Navigation-link nav__home",children:Object(u.jsx)(i.c,{to:"/",exact:!0,children:Object(u.jsx)(j.a,{icon:b.b,size:"lg",className:"link-item link__home"})})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.c,{to:"/",exact:!0,children:Object(u.jsx)("div",{className:"logo-box",children:Object(u.jsx)("img",{className:"logo",src:o,alt:"Clone twitter",width:"40px",height:"40px"})})})}),Object(u.jsx)("li",{className:"Navigation-link nav__profile",children:t&&Object(u.jsx)(i.c,{to:"/".concat(t.uid),exact:!0,children:Object(u.jsx)(j.a,{icon:b.e,size:"lg",className:"link-item link__profile"})})})]})})},m=c(0),O=c.n(m),x=c(1),h=c(22),f=c(55),p=c(42),g=c(28),v=c(39);Object(f.a)({apiKey:"AIzaSyBYyC67icauGzzvcO_-cNMe08Fu_DNkR8M",authDomain:"clone-twitter-7f3cc.firebaseapp.com",projectId:"clone-twitter-7f3cc",storageBucket:"clone-twitter-7f3cc.appspot.com",messagingSenderId:"475684588956",appId:"1:475684588956:web:90ef0dd95b1c28831fcc59",measurementId:"G-11PRMVK9N7"});var N=Object(p.a)(),w=Object(g.c)(),k=Object(v.b)(),U=(c(70),c.p+"static/media/google.9db27c10.png"),I=c.p+"static/media/github.44eee0c4.png",y=function(){var e=function(){var e=Object(x.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"google"===t.target.name&&(c=new h.b),"github"===t.target.name&&(c=new h.a),e.next=5,Object(h.g)(N,c);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"social-account",children:[Object(u.jsx)("div",{className:"social",children:Object(u.jsx)("img",{onClick:e,name:"google",src:U,alt:"Google logo","aria-label":"Continue with Google",width:"40px",height:"40px"})}),Object(u.jsx)("div",{className:"social",children:Object(u.jsx)("img",{name:"github",onClick:e,src:I,alt:"Github logo","aria-label":"Continue with Github",width:"40px",height:"40px"})})]})},S=(c(71),function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),i=Object(r.a)(s,2),l=i[0],j=i[1],b=Object(a.useState)(!1),d=Object(r.a)(b,2),m=d[0],f=d[1],p=Object(a.useState)(""),g=Object(r.a)(p,2),v=g[0],w=g[1],k=function(e){"email"===e.target.name&&n(e.target.value),"password"===e.target.name&&j(e.target.value)},U=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n(""),j(""),e.prev=3,!m){e.next=7;break}return e.next=7,Object(h.c)(N,c,l);case 7:if(m){e.next=10;break}return e.next=10,Object(h.f)(N,c,l);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),w(e.t0.message.slice(10));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"Auth",children:[Object(u.jsxs)("div",{className:"Auth-logo ",children:[Object(u.jsx)("img",{src:o,alt:"Clone Twitter",width:"100px",height:"100px"}),Object(u.jsx)("h1",{className:"Clone-Twitter",children:"Clone Twitter"})]}),Object(u.jsxs)("form",{className:"form",onSubmit:U,children:[Object(u.jsxs)("div",{className:"account-form",children:[Object(u.jsx)("label",{className:"label",htmlFor:"email",children:"\uc774\uba54\uc77c"}),Object(u.jsx)("input",{className:"account-input",id:"email",type:"email",name:"email",placeholder:"email@example.com",value:c,onChange:k})]}),Object(u.jsxs)("div",{className:"account-form",children:[Object(u.jsx)("label",{className:"label",htmlFor:"password",children:"\ube44\ubc00\ubc88\ud638"}),Object(u.jsx)("input",{className:"account-input",id:"password",type:"password",name:"password",placeholder:"******",value:l,onChange:k})]}),Object(u.jsx)("button",{className:"btn btn-account",type:"submit",children:m?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"})]}),Object(u.jsx)("p",{className:"error",children:v}),Object(u.jsx)("p",{className:"account",onClick:function(){return f((function(e){return!e}))},children:m?"\ub85c\uadf8\uc778":"\ud68c\uc6d0\uac00\uc785"}),Object(u.jsx)("p",{className:"label socail-login",children:"\ub2e4\ub978 \uc11c\ube44\uc2a4\ub85c \ub85c\uadf8\uc778"}),Object(u.jsx)(y,{})]})}),C=c(44),_=c(15),F=c(79),L=c(29),R=(c(72),c(33)),P=function(e){var t=e.signedInUser,c=Object(a.useState)(""),n=Object(r.a)(c,2),s=n[0],i=n[1],l=Object(a.useState)(""),o=Object(r.a)(l,2),d=o[0],m=o[1],h=function(){var e=Object(x.a)(O.a.mark((function e(c){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),a="",""===d){e.next=10;break}return n=Object(L.d)(k,"".concat(t.uid,"/").concat(Object(F.a)())),e.next=6,Object(L.e)(n,d,"data_url");case 6:return r=e.sent,e.next=9,Object(L.b)(r.ref);case 9:a=e.sent;case 10:return e.next=12,Object(_.a)(Object(_.b)(w,"tweets"),{text:s,createdAt:Date.now(),creatorId:t.uid,creatorImg:t.photoURL,creatorName:t.displayName,attachmentUrl:a,likeUsers:[]});case 12:i(""),m("");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{onSubmit:h,className:"tweet-form",children:[Object(u.jsx)("textarea",{className:"tweet-area",onChange:function(e){i(e.target.value)},value:s,placeholder:"\ubb34\uc2a8 \uc77c\uc774 \uc788\uc5b4\ub098\uace0 \uc788\ub098\uc694?",minLength:"1",maxLength:"120",required:!0}),Object(u.jsxs)("div",{className:"tweet-file",children:[Object(u.jsx)("label",{className:"input-img-label",htmlFor:"tweet-img","aria-label":"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc",children:Object(u.jsx)(j.a,{icon:R.c,size:"3x",className:"input-img"})}),Object(u.jsx)("input",{id:"tweet-img",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],c=new FileReader;c.onloadend=function(e){m(e.target.result)},c.readAsDataURL(t)}}),Object(u.jsxs)("button",{type:"submit",className:"btn-send",children:[Object(u.jsx)("span",{className:"visually-hidden",children:"\ubc1c\ud589"}),Object(u.jsx)(j.a,{icon:b.c,size:"lg",className:"submit"})]})]}),d&&Object(u.jsxs)("div",{className:"attachment-box",children:[Object(u.jsx)("img",{src:d,alt:"Seleted file",className:"attachment-img"}),Object(u.jsx)("button",{className:"btn-control btn-cancel",type:"button",onClick:function(){m(null)},children:"\ucde8\uc18c"})]})]})})},T=c(18),A=(c(73),function(e){var t,c=e.tweetObj,n=e.isOwner,s=e.likedUser,l=e.userId,o=Object(a.useState)(!1),d=Object(r.a)(o,2),m=d[0],h=d[1],f=Object(a.useState)(c.text),p=Object(r.a)(f,2),N=p[0],U=p[1],I=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=window.confirm("\uc774 \ud2b8\uc717\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))){e.next=4;break}return e.next=4,Object(g.a)(Object(g.b)(w,"tweets/".concat(c.id)));case 4:if(!t||!c.attachmentUrl){e.next=7;break}return e.next=7,Object(v.a)(Object(v.c)(k,c.attachmentUrl));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(g.d)(Object(g.b)(w,"tweets/".concat(c.id)),{text:N});case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=4;break}return t=c.likeUsers.filter((function(e){return e!==l})),e.next=4,Object(g.d)(Object(g.b)(w,"tweets/".concat(c.id)),{likeUsers:t});case 4:if(s){e.next=7;break}return e.next=7,Object(g.d)(Object(g.b)(w,"tweets/".concat(c.id)),{likeUsers:[].concat(Object(T.a)(c.likeUsers),[l])});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"Tweet",children:[m?n&&Object(u.jsx)("div",{className:"edit-box",children:Object(u.jsxs)("form",{className:"edit-form",onSubmit:y,children:[Object(u.jsx)("textarea",{className:"edit-textarea",placeholder:"\ub0b4\uc6a9\uc744 \uc218\uc815\ud558\uc138\uc694.",required:!0,value:N,onChange:function(e){U(e.target.value)}}),Object(u.jsx)("div",{className:"btn-edit-box",children:Object(u.jsx)("button",{className:"btn-control btn-okay",type:"submit",children:"\ud655\uc778"})})]})}):Object(u.jsxs)("div",{className:"user-tweet",children:[Object(u.jsxs)("div",{className:"tweet-content",children:[Object(u.jsx)(i.b,{to:"/".concat(c.creatorId),children:Object(u.jsx)("img",{className:"Tweet-userImg",src:c.creatorImg,alt:"User",width:"50px",height:"50px"})}),Object(u.jsx)("h3",{className:"Tweet-userName",children:c.creatorName}),Object(u.jsx)("span",{className:"tweet-date",children:function(){var e=new Date(c.createdAt),t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),s=e.getHours(),r=e.getMinutes();return"".concat(t,".").concat(a,".").concat(n," ").concat(s,":").concat(r)}()})]}),Object(u.jsx)("h4",{className:"tweet-text",children:c.text}),c.attachmentUrl&&Object(u.jsx)("div",{className:"selected-img-box",children:Object(u.jsx)("img",{className:"selected-img",src:c.attachmentUrl,alt:"Selected file"})}),c.likeUsers&&Object(u.jsx)("div",{className:"btn--heart__box",children:Object(u.jsxs)("button",{onClick:S,className:"btn--heart",children:[Object(u.jsx)(j.a,{icon:s?b.a:R.b,className:"heart__icon"}),Object(u.jsx)("span",{className:"heart__count",children:null===(t=c.likeUsers)||void 0===t?void 0:t.length})]})})]}),!m&&n&&Object(u.jsxs)("div",{className:"btn-box",children:[Object(u.jsxs)("button",{className:"btn-edit",onClick:function(){return h((function(e){return!e}))},children:[Object(u.jsx)(j.a,{icon:R.a,size:"1x",className:"btn-icon"}),Object(u.jsx)("span",{className:"visually-hidden",children:"\uc218\uc815"})]}),Object(u.jsxs)("button",{className:"btn-delete",onClick:I,children:[Object(u.jsx)(j.a,{icon:b.d,size:"1x",className:"btn-icon"}),Object(u.jsx)("span",{className:"visually-hidden",children:"\uc0ad\uc81c"})]})]})]})})}),z=(c(51),function(e){var t=e.signedInUser,c=Object(a.useState)([]),n=Object(r.a)(c,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){var e=Object(_.h)(Object(_.b)(w,"tweets"),Object(_.g)("createdAt","desc")),t=Object(_.f)(e,(function(e){var t=e.docs.map((function(e){return Object(C.a)({id:e.id},e.data())}));i(t)}));return function(){return t()}}),[]),Object(u.jsxs)("div",{className:"Home",children:[Object(u.jsx)(P,{signedInUser:t}),Object(u.jsx)("div",{className:"TweetList",children:s.map((function(e){var c;return Object(u.jsx)(A,{tweetObj:e,isOwner:e.creatorId===t.uid,likedUser:null===(c=e.likeUsers)||void 0===c?void 0:c.includes(t.uid),userId:t.uid},e.id)}))}),Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)("p",{children:"\xa9 2021 CloneTwitter"}),Object(u.jsxs)("div",{className:"icon__link",children:["Icons made by"," ",Object(u.jsxs)("a",{className:"footer--link",href:"https://www.freepik.com",title:"Freepik",target:"_blank",rel:"noreferrer",children:["Freepik"," "]}),"from"," ",Object(u.jsx)("a",{className:"footer--link",href:"https://www.flaticon.com/",title:"Flaticon",target:"_blank",rel:"noreferrer",children:"www.flaticon.com"}),Object(u.jsxs)("p",{children:["and"," ",Object(u.jsx)("a",{className:"footer--link",href:"https://fontawesome.com/",title:"Font Awesome",target:"_blank",rel:"noreferrer",children:"Font Awesome"})]})]})]})]})}),D=(c(74),function(e){var t=e.signedInUser,c=e.refreshUser,n=e.bioText,s=e.myTweets,i=Object(a.useState)(!1),l=Object(r.a)(i,2),o=l[0],b=l[1],d=Object(a.useState)(""),m=Object(r.a)(d,2),f=m[0],p=m[1],g=Object(a.useState)(t.displayName),v=Object(r.a)(g,2),U=v[0],I=v[1],y=Object(a.useState)(n),S=Object(r.a)(y,2),C=S[0],F=S[1],P=function(e){"name"===e.target.name&&I(e.target.value),"bio"===e.target.name&&F(e.target.value)},T=function(){var e=Object(x.a)(O.a.mark((function e(a){var n,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n="",""===f){e.next=15;break}return r=Object(L.d)(k,"".concat(t.uid)),e.next=6,Object(L.e)(r,f,"data_url");case 6:return i=e.sent,e.next=9,Object(L.b)(i.ref);case 9:return n=e.sent,e.next=12,Object(h.i)(N.currentUser,{photoURL:n});case 12:s.map(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.j)(Object(_.d)(w,"tweets/".concat(t.id)),{creatorImg:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(),b(!1);case 15:if(t.displayName===U){e.next=20;break}return e.next=18,Object(h.i)(N.currentUser,{displayName:U});case 18:c(),b(!1);case 20:if(!o){e.next=24;break}return e.next=23,Object(_.i)(Object(_.d)(w,"bio",t.uid),{text:C,creatorId:t.uid});case 23:b(!1);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){b((function(e){return!e}))};return Object(u.jsxs)(u.Fragment,{children:[o&&Object(u.jsx)("div",{className:"EditProfile",children:Object(u.jsxs)("form",{className:"edit-form edit-form__profile",onSubmit:T,children:[f&&Object(u.jsx)("div",{className:"preview-box",children:Object(u.jsx)("img",{className:"preview-userImg",src:f,alt:"Selected file",width:"100px",height:"100px"})}),Object(u.jsx)("label",{className:"input-img-label edit-userImg",htmlFor:"Profile-userImg","aria-label":"\uc0ac\uc6a9\uc790 \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc",children:Object(u.jsx)(j.a,{icon:R.c,size:"3x",className:"input-img edit-userImg-icon"})}),Object(u.jsx)("input",{id:"Profile-userImg",type:"file",accept:"image/*",name:"userImg",onChange:function(e){var t=e.target.files[0],c=new FileReader;c.onloadend=function(e){p(e.target.result)},c.readAsDataURL(t)}}),Object(u.jsxs)("div",{className:"edit-content",children:[Object(u.jsxs)("div",{className:"input-userName",children:[Object(u.jsx)("label",{className:"label",htmlFor:"Profile-userName",children:"\uc774\ub984"}),Object(u.jsx)("input",{id:"Profile-userName",type:"text",name:"name",required:!0,maxLength:8,value:U,onChange:P})]}),Object(u.jsxs)("div",{className:"input-userBio",children:[Object(u.jsx)("label",{className:"label",htmlFor:"Profile-userBio",children:"\uc790\uae30\uc18c\uac1c"}),Object(u.jsx)("input",{id:"Profile-userBio",type:"text",name:"bio",value:C,onChange:P,maxLength:30})]})]}),Object(u.jsxs)("div",{className:"profile-btn-box",children:[Object(u.jsx)("button",{className:"btn-control btn-okay btn-save",type:"submit",children:"\uc800\uc7a5"}),Object(u.jsx)("button",{className:"btn-control btn-cancel",onClick:A,children:"\ucde8\uc18c"})]})]})}),!o&&Object(u.jsx)("div",{className:"btn-edit-profile-box",children:Object(u.jsx)("button",{className:"btn-control btn-edit-profile",onClick:A,children:"\ud504\ub85c\ud544\uc218\uc815"})})]})}),B=(c(75),function(e){var t=e.signedInUser,c=e.refreshUser,n=Object(a.useState)([]),s=Object(r.a)(n,2),i=s[0],o=s[1],j=Object(a.useState)(""),b=Object(r.a)(j,2),d=b[0],m=b[1],O=Object(l.g)().uid,x=Object(a.useState)(null),f=Object(r.a)(x,2),p=f[0],g=f[1],v=Object(a.useState)(""),k=Object(r.a)(v,2),U=k[0],I=k[1],y=Object(l.f)();return Object(a.useEffect)((function(){var e=Object(_.f)(Object(_.d)(w,"bio",O),(function(e){var t;return m(null===(t=e.data())||void 0===t?void 0:t.text)})),t=Object(_.h)(Object(_.b)(w,"tweets"),Object(_.k)("creatorId","==",O),Object(_.g)("createdAt","desc")),c=Object(_.f)(t,(function(e){var t,c,a=e.docs.map((function(e){return Object(C.a)({id:e.id},e.data())}));o(a),I(null===(t=a[0])||void 0===t?void 0:t.creatorName),g(null===(c=a[0])||void 0===c?void 0:c.creatorImg)}));return function(){e(),c()}}),[O]),Object(u.jsxs)("div",{className:"Profile",children:[Object(u.jsxs)("div",{className:"Profile-userContent",children:[Object(u.jsx)("img",{className:"Profile-userImg",src:p||t.photoURL,alt:U||t.displayName}),Object(u.jsxs)("div",{className:"Profile-userText",children:[Object(u.jsx)("p",{className:"Profile-userName",children:U||t.displayName}),Object(u.jsx)("p",{className:"Profile-userBio",children:d})]}),O===t.uid&&Object(u.jsx)("button",{className:"btn-control btn-signOut",type:"submit",onClick:function(){Object(h.h)(N),y.push("/")},children:"\ub85c\uadf8\uc544\uc6c3"})]}),O===t.uid&&Object(u.jsx)(D,{signedInUser:t,refreshUser:c,bioText:d,myTweets:i}),Object(u.jsx)("div",{className:"TweetList",children:i.map((function(e){var c;return Object(u.jsx)(A,{tweetObj:e,isOwner:e.creatorId===t.uid,likedUser:null===(c=e.likeUsers)||void 0===c?void 0:c.includes(t.uid),userId:t.uid},"".concat(e.creatorId,"/").concat(e.createdAt))}))})]})}),G=function(e){var t=e.isSignedIn,c=e.signedInUser,a=e.refreshUser;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(l.c,{children:t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d,{signedInUser:c}),Object(u.jsx)(l.a,{exact:!0,path:"/",children:Object(u.jsx)(z,{signedInUser:c})}),Object(u.jsx)(l.a,{path:"/:uid",children:Object(u.jsx)(B,{signedInUser:c,refreshUser:a})})]}):Object(u.jsx)(l.a,{exact:!0,path:"/",children:Object(u.jsx)(S,{})})})})})},M=(c(76),function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),i=Object(r.a)(s,2),l=i[0],j=i[1],b=Object(a.useState)(null),d=Object(r.a)(b,2),m=d[0],O=d[1];Object(a.useEffect)((function(){Object(p.b)(N,(function(e){e?(j(!0),O({displayName:e.displayName?e.displayName:e.uid.slice(0,9),uid:e.uid,photoURL:e.photoURL?e.photoURL:o})):(j(!1),O(null)),n(!0)}))}),[]);return Object(u.jsx)("div",{className:"App",children:c?Object(u.jsx)("div",{className:"Main",children:Object(u.jsx)(G,{isSignedIn:l,signedInUser:m,refreshUser:function(){var e=N.currentUser;O({displayName:e.displayName,uid:e.uid,photoURL:e.photoURL?e.photoURL:o})}})}):Object(u.jsxs)("div",{className:"init",children:[Object(u.jsx)("img",{src:o,alt:"logo",width:"50px",height:"50px"}),Object(u.jsx)("p",{className:"init-text",children:"Initailizing..."})]})})});s.a.render(Object(u.jsx)(M,{}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.c37808d9.chunk.js.map